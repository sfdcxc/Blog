# Redis学习
@author:Darcy
2019/3/4 22:40:20 

## Redis入门指南学习笔记
- Redis是一个开源的，高性能的，基于键值对的缓存与存储系统，通过提供多种键值数据来适应不同场景下的缓存与存储需求。Redis的诸多高层级功能使其可以胜任消息队列，任务队列等不同角色

### Redis特性
1. 存储结构
	- Redis是REmote DIctionary Server远程字典服务器的缩写缩写，以字典结构存储数据，并允许其他应用通过TCP协议读写字典中的内容。
	- Redis支持的键值数据类型
		1. 字符串类型
		2. 散列类型
		3. 列表类型
		4. 集合类型
		5. 有序集合类型 
2. 内存存储与持久化
	- Redis数据库中所有数据都存储在内存中
	- Redis提供了对持久化的支持，可以将内存中的数据异步写入硬盘中，同时不影响继续提供服务
3. 功能丰富
	- 可以作缓存，队列系统
		- Redis可以为每个键设置生存时间(TTL)，生存时间到期后键会自动被删除。
		- Redis可以限定数据占有的最大内存空间，在数据达到空间限制后可以按照一定的规则自动淘汰不需要的键
		- Redis的列表类型键可以用来实现队列，并且支持阻塞式读取
4. 简单文档

### 操作Redis
- ![](https://i.imgur.com/sVZkDFJ.png)

### 启动Redis
1. 直接启动
	- 直接运行redis-server
	- Redis服务器默认使用6379端口。 可以通过--port参数自定义端口号
		- redis-server --port 6380
2. 初始化脚本启动Redis，使得Redis能随系统自动运行
	- 初始化脚本redis/redis-stable/utils
	- 配置
		- 启动配置文件的方法是在启动时将配置文件的路径作为启动参数传给redis-server 

### 停止Redis
- redis-cli SHUTDOWN

### Redis命令行客户端
1. 发送命令
	1. 将命令当作redis-cli的参数执行
		1. 通过-h 和 -p 参数可以自定义地址号和端口号
			1. redis-cli -h 127.0.0.1 -p 6379
		2. 提供了PING命令来测试客户端与Redis的连接是否正常，正常会回复PONG
			1. redis-cli PING
	2. 不附带参数运行redis-cli 进入交互模式，可以自由输入命令
2. 命令返回值
	1. 状态回复
		1. 向Redis发送SET命令设置某个键的值时，Redis回复OK表示设置成功
		2. PING命令回复PONG显示状态信息
	2. 错误回复
		1. 命令不存在或命令格式有错误，返回错误回复(error reply)
		2. 错误回复以(error)开头，并在后面跟上错误信息
		3. 部分错误信息会以具体的错误类型开头
3. 整数回复
	- 整数回复(integer reply)以(integer)开头，并在后面加上整数数据
4. 字符串回复
	- 字符串回复(bulk reply)是最常见的一种回复类型，当请求一个字符串类型键的键值，或一个其他类型键中的某个元素时会得到一个字符串回复。
	- 特殊情况是当请求的键值不存在时会得到一个结果，显示为(nil)
5. 多行字符串回复
	- 多行字符串回复(multi-bulk reply),当请求一个非字符串类型键的元素列表时就会收到多行字符串回复。

### 多数据库
1. Redis默认支持16个数据库， 可以通过配置参数databasses来修改这一数字
2. Redis不支持自定义数据库的名字
3. Redis非常轻量级，一个空Redis实例占用的内存只有1MB左右，不用担心多个Redis实例会额外占用很多内存